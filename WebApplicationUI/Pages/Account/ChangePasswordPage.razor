@page "/change-password"

@layout NoLayout

@inject IJSRuntime jsRuntime
@inject NavigationManager navManager


<PageTitle>Change Password</PageTitle>

<style>
    /* Centering the container */
    .centered-container {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 90vh;
        background-color: var(--background-primary-color);
    }

    /* Inner container styling */
    .inner-container {
        background-color: var(--background-secondary-color);
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        width: 400px;
        text-align: center;
        animation: fadeIn 0.5s ease-in-out;
        border: 2px solid var(--border-primary-color);
    }

    /* Form field styling */
    .field {
        margin-bottom: 15px;
        width: 100%;
        max-width: 350px;
    }

    .submit-button {
        width: 100%;
        margin-top: 10px;
    }

    .navigation-button {
        width: 100%;
        margin-top: 10px;
        background-color: #444; /* Dark button for crypto style */
        color: #fff;
        border: none;
        padding: 10px;
        cursor: pointer;
        border-radius: 5px;
        transition: background-color 0.3s;
    }

    .navigation-button:hover {
        background-color: #555;
    }

    .rz-button.rz-primary.rz-shade-default {
        background-color: var(--button-primary-color);
    }

    .change-password-step-title {
        color: var(--text-primary-color, #ffffff); /* Use a white or customizable color */
        font-size: 1.5rem; /* Moderate font size */
        font-weight: bold; /* Bold for emphasis */
        text-align: center; /* Center-align to match the form */
        margin-bottom: 10px; /* Space between title and description */
    }

    .change-password-step-description {
        color: var(--text-secondary-color, #cccccc); /* Slightly dimmer color */
        font-size: 1rem; /* Smaller font for description */
        text-align: center; /* Center-align to match the title */
        margin-bottom: 20px; /* Space between description and form fields */
    }

    @@keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }
</style>

<div class="centered-container">
    <div class="inner-container">
        @if (Step == 1)
        {
            <div>
                <div class="change-password-step-title">Step 1</div>
                <div class="change-password-step-description">Please enter your current password to proceed</div>
            </div>
            <RadzenPassword @bind-Value="OldPassword" Placeholder="Enter your old password" class="field" />
            <RadzenButton Text="Next" Click="GoToNextStep" class="navigation-button" />
            <RadzenButton Text="Back" Click="GoToPreviousStep" class="navigation-button" />
        }
        else if (Step == 2)
        {
            <div>
                <div class="change-password-step-title">Step 2</div>
                <div class="change-password-step-description">Set your new password and confirm it</div>
            </div>
            <RadzenPassword @bind-Value="NewPassword" Placeholder="Enter your new password" class="field" />
            <RadzenPassword @bind-Value="ConfirmPassword" Placeholder="Confirm your new password" class="field" />
            <RadzenButton Text="Submit" Click="SubmitNewPassword" class="submit-button" />
            <RadzenButton Text="Back" Click="GoToPreviousStep" class="navigation-button" />
        }
    </div>
</div>